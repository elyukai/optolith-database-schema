{
  "$schema": "https://json-schema.org/draft/2019-09/schema",
  "$id": "/equipment/item/Herb.schema.json",
  "$ref": "#/$defs/Herb",
  "$defs": {
    "Herb": {
      "type": "object",
      "properties": {
        "effect_types": {
          "description": "Effect type(s) of the plant's effect(s) and usage(s).",
          "type": "array",
          "items": {
            "$ref": "./_Herbary.schema.json#/$defs/EffectType"
          },
          "minItems": 1,
          "uniqueItems": true
        },
        "prevalence": {
          "description": "The herb's prevalence per landscape type.",
          "type": "array",
          "items": {
            "$ref": "./_Herbary.schema.json#/$defs/LandscapeTypePrevalence"
          },
          "minItems": 1,
          "uniqueItems": true
        },
        "search_difficulty": {
          "description": "Modifier for plant lore check when searching for the plant.",
          "type": "integer"
        },
        "identification_difficulty": {
          "description": "Modifier for plant lore check when identifying the plant.",
          "type": "integer"
        },
        "uses": {
          "description": "Doses of plant material found with a search check.",
          "type": "array",
          "items": {
            "type": "integer",
            "minimum": 1
          },
          "minItems": 6,
          "maxItems": 6
        },
        "src": {
          "$ref": "../../source/_PublicationRef.schema.json#/$defs/PublicationRefs"
        },
        "translations": {
          "description": "All translations for the entry, identified by IETF language tag (BCP47).",
          "type": "object",
          "patternProperties": {
            "^[a-z]{2}-[A-Z]{2}$": {
              "$ref": "#/$defs/HerbTranslation"
            }
          },
          "minProperties": 1,
          "additionalProperties": false
        }
      },
      "required": [
        "src",
        "translations"
      ],
      "additionalProperties": false
    },
    "HerbTranslation": {
      "type": "object",
      "properties": {
        "name": {
          "description": "The name of the poison.",
          "$ref": "../../_NonEmptyString.schema.json#/$defs/NonEmptyString"
        },
        "alternative_names": {
          "description": "A list of alternative names.",
          "type": "array",
          "items": {
            "$ref": "../../_AlternativeNames.schema.json#/$defs/AlternativeName"
          },
          "minItems": 1
        },
        "effect_touch": {
          "description": "The raw plant's effect(s) when touched.",
          "$ref": "../../_NonEmptyString.schema.json#/$defs/NonEmptyString"
        },
        "effect_inhale": {
          "description": "The raw plant's effect(s) when inhaled.",
          "$ref": "../../_NonEmptyString.schema.json#/$defs/NonEmptyString"
        },
        "effect_ingest": {
          "description": "The raw plant's effect(s) when ingested.",
          "$ref": "../../_NonEmptyString.schema.json#/$defs/NonEmptyString"
        },
        "description": {
          "description": "The plant's description.",
          "$ref": "../../_NonEmptyString.schema.json#/$defs/NonEmptyString"
        },
        "prevalence_remarks":{
          "description": "Additional remarks on the prevalence per landscape type of the herb.",
          "$ref": "../../_NonEmptyString.schema.json#/$defs/NonEmptyString"
        },
        "prevalence_regions":{
          "description": "Description of the plant's regional prevalence.",
          "$ref": "../../_NonEmptyString.schema.json#/$defs/NonEmptyString"
        },
        "errata": {
          "$ref": "../../source/_Erratum.schema.json#/$defs/Errata"
        }
      },
      "required": [
        "name",
        "prevalence_regions",
        "effect_touch",
        "effect_inhale",
        "effect_ingest"
      ],
      "additionalProperties": false
    },
    "LandscapeTypePrevalence": {
      "description": "Prevalence of a herb in a certain landscape type.",
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "tag": {
              "const": "PrevalenceFarNorth"
            },
            "prevalence_far_north": {
              "$ref": "#/$defs/PrevalenceClass"
            }
          },
          "required": [
            "tag",
            "prevalence_far_north"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "tag": {
              "const": "PevalenceVeld"
            },
            "prevalence_veld": {
              "$ref": "#/$defs/PrevalenceClass"
            }
          },
          "required": [
            "tag",
            "prevalence_veld"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "tag": {
              "const": "PevalenceMarsh"
            },
            "prevalence_marsh": {
              "$ref": "#/$defs/PrevalenceClass"
            }
          },
          "required": [
            "tag",
            "prevalence_marsh"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "tag": {
              "const": "PevalenceWoods"
            },
            "prevalence_woods": {
              "$ref": "#/$defs/PrevalenceClass"
            }
          },
          "required": [
            "tag",
            "prevalence_woods"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "tag": {
              "const": "PevalenceRainForest"
            },
            "prevalence_rain_forest": {
              "$ref": "#/$defs/PrevalenceClass"
            }
          },
          "required": [
            "tag",
            "prevalence_rain_forest"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "tag": {
              "const": "PevalenceMountains"
            },
            "prevalence_mountains": {
              "$ref": "#/$defs/PrevalenceClass"
            }
          },
          "required": [
            "tag",
            "prevalence_mountains"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "tag": {
              "const": "PevalenceDesert"
            },
            "prevalence_desert": {
              "$ref": "#/$defs/PrevalenceClass"
            }
          },
          "required": [
            "tag",
            "prevalence_desert"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "tag": {
              "const": "PevalenceMaraskan"
            },
            "prevalence_maraskan": {
              "$ref": "#/$defs/PrevalenceClass"
            }
          },
          "required": [
            "tag",
            "prevalence_maraskan"
          ],
          "additionalProperties": false
        }
      ]
    },
    "PrevalenceClass": {
      "oneOf": [
        {
          "const": "Common"
        },
        {
          "const": "Occasional"
        },
        {
          "const": "NowAndThen"
        },
        {
          "const": "Rare"
        },
        {
          "const": "VeryRare"
        }
      ]
    }
  }
}
